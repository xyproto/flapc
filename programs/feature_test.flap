// Comprehensive feature test for Flap compiler

// 1. Variables
x = 10
y := 20
y += 5
println(y)  // Should print 25

// 2. Match expressions without arrows
x < 30 {
    println("x is small")
}

// 3. Lambda with =>
double = x => x * 2
result := double(5)
println(result)  // Should print 10

// 4. Multi-param lambda
add = x, y => x + y
sum := add(3, 7)
println(sum)  // Should print 10

// 5. Lists
numbers = [1, 2, 3, 4, 5]
println(#numbers)  // Should print 5

// 6. Maps
ages = {1: 25, 2: 30}
println(#ages)  // Should print 2

// 7. Loops with @
total := 0
@ i in range(5) {
    total += i
}
println(total)  // Should print 10 (0+1+2+3+4)

// 8. Membership testing
5 in numbers {
    println("Found 5!")
}

// 9. Match with default
x > 100 {
    println("big")
    ~> println("not big")
}

println("All basic features working!")
