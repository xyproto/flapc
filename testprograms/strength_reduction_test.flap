// Test strength reduction optimizations
println("Testing strength reduction optimizations")

// Test 1: Multiply by power of 2 should become shift
x := 100
y := x * 8  // Should become x << 3
println(f"100 * 8 = {y}")

// Test 2: Divide by power of 2 should become shift
z := 64 / 4  // Should become 64 >> 2
println(f"64 / 4 = {z}")

// Test 3: Modulo by power of 2 should become AND
m := 17 % 8  // Should become 17 & 7
println(f"17 % 8 = {m}")

// Test 4: Multiply by 1 should be eliminated
a := 42 * 1  // Should become just 42
println(f"42 * 1 = {a}")

// Test 5: Add 0 should be eliminated
b := 99 + 0  // Should become just 99
println(f"99 + 0 = {b}")

// Test 6: Multiply by 0 should become 0
c := 1000 * 0  // Should become 0
println(f"1000 * 0 = {c}")

// All results
y == 800 {
    println("Test 1 PASSED: multiply by 8")
}

z == 16 {
    println("Test 2 PASSED: divide by 4")
}

m == 1 {
    println("Test 3 PASSED: modulo by 8")
}

a == 42 {
    println("Test 4 PASSED: multiply by 1")
}

b == 99 {
    println("Test 5 PASSED: add 0")
}

c == 0 {
    println("Test 6 PASSED: multiply by 0")
}

println("Strength reduction optimization tests completed")
