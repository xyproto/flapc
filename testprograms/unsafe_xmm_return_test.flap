// Test unsafe blocks with various return scenarios

// Test 1: Verify default behavior (no explicit return type)
result1 := unsafe int64 {
    rax <- 42
} {
    x0 <- 42
} {
    a0 <- 42
}

printf("Result (default): %.0f\n", result1)

// Test 2: Explicit type (int64)
result2 := unsafe int64 {
    rbx <- 999
    rax <- 123
} {
    x1 <- 999
    x0 <- 123
} {
    a1 <- 999
    a0 <- 123
}

printf("Result (explicit rax): %.0f\n", result2)

// Test 3: Return from computation
result3 := unsafe int64 {
    rax <- 10
    rbx <- 20
    rax <- rax + rbx
} {
    x0 <- 10
    x1 <- 20
    x0 <- x0 + x1
} {
    a0 <- 10
    a1 <- 20
    a0 <- a0 + a1
}

printf("Result (computed): %.0f\n", result3)
