// Test cstruct declarations and constants

// Basic cstruct with different field types
cstruct Vec3 {
    x as float32
    y as float32
    z as float32
}

// Packed cstruct (no padding)
cstruct PackedStruct packed {
    a as uint8
    b as uint64
    c as uint8
}

// Regular struct (with padding for alignment)
cstruct AlignedStruct {
    a as uint8
    b as uint64
    c as uint8
}

// Test accessing metadata via dot notation
printf("Vec3.size = %.0f\n", Vec3.size)
printf("Vec3.x.offset = %.0f\n", Vec3.x.offset)
printf("Vec3.y.offset = %.0f\n", Vec3.y.offset)
printf("Vec3.z.offset = %.0f\n", Vec3.z.offset)

printf("\nPackedStruct.size = %.0f\n", PackedStruct.size)
printf("PackedStruct.a.offset = %.0f\n", PackedStruct.a.offset)
printf("PackedStruct.b.offset = %.0f\n", PackedStruct.b.offset)
printf("PackedStruct.c.offset = %.0f\n", PackedStruct.c.offset)

printf("\nAlignedStruct.size = %.0f\n", AlignedStruct.size)
printf("AlignedStruct.a.offset = %.0f\n", AlignedStruct.a.offset)
printf("AlignedStruct.b.offset = %.0f\n", AlignedStruct.b.offset)
printf("AlignedStruct.c.offset = %.0f\n", AlignedStruct.c.offset)

// Verify Vec3 layout: 3 x f32 (4 bytes each) = 12 bytes
Vec3.size == 12 {
    printf("\n✓ Vec3 size correct (12 bytes)\n")
}

// Verify packed struct has no padding
PackedStruct.size == 10 {
    printf("✓ PackedStruct has no padding (1+8+1 = 10 bytes)\n")
}

// Verify aligned struct has padding
AlignedStruct.size == 24 {
    printf("✓ AlignedStruct has padding (aligned to 8 bytes = 24 bytes total)\n")
}

printf("\nCStruct test complete!\n")
